<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="author" content="Fernando Paiva e Rafaela Vitale">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Vai um fondue?</title>

    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">
            <h1>Vai um fondue?</h1>
          </a>
        </div>
      </div>
    </nav>

    <script>
        function calcular_lista()
        {              
                nr_pessoas = document.getElementById("nr_pessoas").value;

                // Quantidade de ingredientes por pessoa
                var gruyere=75
                var emmental=75
                var pao=190
                var vinho_branco_fondue=75
                var vinho_para_beber=350

                // Calcular a quantidade total de ingredientes
                var gruyere_tot=gruyere*nr_pessoas
                var emmental_tot=emmental*nr_pessoas
                var pao_tot=pao*nr_pessoas
                var vinho_branco_fondue_tot=vinho_branco_fondue*nr_pessoas
                var vinho_para_beber_tot=vinho_para_beber*nr_pessoas
                
                // Ajustar as unidades
                var garrafas_vinho_fondue=Math.ceil(vinho_branco_fondue_tot/750)
                var garrafas_vinho_beber=Math.ceil(vinho_para_beber_tot/750)
                
                // Montar lista
                lista_template="\
                    <h3>Lista de compras:</h3>\
                    <br />\
                    <p>\
                    <ul>\
                        <li>Queijo Gruyère "+ String(gruyere_tot) + " gramas</li> <br />\
                        <li>Queijo Emmental " + String(emmental_tot)  + "gramas</li> <br />\
                        <li>Pão Italiano " + String(pao_tot)  + " gramas</li> <br />\
                        <li>Vinho Branco Fondue " + String(garrafas_vinho_fondue) + " garrafa(s) - " + String(vinho_branco_fondue_tot) + " ml</li> <br />\
                        <li>Vinho para beber " + String(garrafas_vinho_beber) + " garrafa(s) - " + String(vinho_para_beber_tot) + " ml</li> <br />\
                    </ul>\
                    <br />\
                    Lembrando: São 3 colheres de amido de milho por panela<br />\
                    Noz moscada ralada na hora a gosto.<br />\
                    </p>"

                document.getElementById("result").innerHTML = lista_template;
        }
    </script>

    <form>
        Quantas pessoas vão participar do fundue de queijo hoje?
        <input type="text" id="nr_pessoas" /><br>
        <input type="button" onClick="calcular_lista()" Value="Gerar lista" />
    </form>
    <span id = "result"></span>

    <i>Desenvolvido por Rafaela Vitale e Fernando Paiva</i>
  
  <link rel="stylesheet" href="/static/css/bootstrap.min.css"/>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-100783066-1', 'auto');
    ga('send', 'pageview');
  
  </script>
  </body>
</html>
